[gd_scene load_steps=18 format=3 uid="uid://bkuhxubcf2wou"]

[ext_resource type="Script" path="res://ParallaxBackground.gd" id="1_p6uld"]
[ext_resource type="Shader" path="res://ScrollingStars.gdshader" id="2_ftk7k"]
[ext_resource type="Texture2D" uid="uid://pvar6036qp67" path="res://starfield.png" id="3_sfpxx"]
[ext_resource type="Texture2D" uid="uid://bg6g5aptl3uyh" path="res://8PxTilePlaceholders.png" id="5_x8cdb"]
[ext_resource type="TileSet" uid="uid://fd28deqx2gwu" path="res://Default.tres" id="6_yjggl"]
[ext_resource type="PackedScene" uid="uid://42grynypajcv" path="res://Player.tscn" id="8_qc5lo"]
[ext_resource type="Script" path="res://ZShadows.gd" id="10_dvy0t"]
[ext_resource type="PackedScene" uid="uid://sj12mwfb5rxl" path="res://keycard.tscn" id="12_uib0m"]
[ext_resource type="Script" path="res://CanvasLayer.gd" id="15_c5n2k"]
[ext_resource type="Shader" path="res://ColorPalWhite.gdshader" id="16_8rfkt"]
[ext_resource type="Texture2D" uid="uid://blxm3pimett58" path="res://ColorPalettes/BOTANY.png" id="17_278n4"]
[ext_resource type="Script" path="res://StageExit_Botany.gd" id="18_f0km6"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_nfwdn"]
shader = ExtResource("2_ftk7k")
shader_parameter/speed = 100.0

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_u3m45"]
texture = ExtResource("5_x8cdb")
texture_region_size = Vector2i(8, 8)
3:0/0 = 0
3:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
3:0/0/physics_layer_0/angular_velocity = 0.0
3:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-4, -4, 4, -4, 4, 4, -4, 4)

[sub_resource type="TileSet" id="TileSet_b18kn"]
tile_size = Vector2i(8, 8)
physics_layer_0/collision_layer = 1
sources/0 = SubResource("TileSetAtlasSource_u3m45")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_gkyvh"]
shader = ExtResource("16_8rfkt")
shader_parameter/color_texture = ExtResource("17_278n4")

[sub_resource type="RectangleShape2D" id="RectangleShape2D_c82jw"]
size = Vector2(40, 30)

[node name="World" type="Node2D"]

[node name="Background" type="CanvasGroup" parent="."]

[node name="ParallaxBackground" type="ParallaxBackground" parent="Background"]
script = ExtResource("1_p6uld")

[node name="Starfield" type="ParallaxLayer" parent="Background/ParallaxBackground"]
material = SubResource("ShaderMaterial_nfwdn")
motion_mirroring = Vector2(352, 160)

[node name="Space" type="ColorRect" parent="Background/ParallaxBackground/Starfield"]
offset_right = 352.0
offset_bottom = 160.0
color = Color(0.15, 0.15, 0.15, 1)

[node name="Stars" type="TextureRect" parent="Background/ParallaxBackground/Starfield"]
offset_right = 352.0
offset_bottom = 160.0
texture = ExtResource("3_sfpxx")
stretch_mode = 1

[node name="Starfield2" type="ParallaxLayer" parent="Background/ParallaxBackground"]
material = SubResource("ShaderMaterial_nfwdn")
motion_scale = Vector2(0.7, 0.7)
motion_mirroring = Vector2(352, 160)

[node name="Stars" type="TextureRect" parent="Background/ParallaxBackground/Starfield2"]
offset_right = 352.0
offset_bottom = 160.0
texture = ExtResource("3_sfpxx")
stretch_mode = 1

[node name="CollisionMap" type="StaticBody2D" parent="."]

[node name="Player" parent="." instance=ExtResource("8_qc5lo")]
position = Vector2(232, 60)

[node name="TileMap" type="TileMap" parent="."]
tile_set = SubResource("TileSet_b18kn")
format = 2
layer_0/tile_data = PackedInt32Array(28, 196608, 0, 29, 196608, 0, 30, 196608, 0, 31, 196608, 0, 32, 196608, 0, 33, 196608, 0, 34, 196608, 0, 35, 196608, 0, 36, 196608, 0, 37, 196608, 0, 38, 196608, 0, 39, 196608, 0, 27, 196608, 0, 65563, 196608, 0, 131099, 196608, 0, 196635, 196608, 0, 262171, 196608, 0, 40, 196608, 0, 41, 196608, 0, 42, 196608, 0, 43, 196608, 0, 65579, 196608, 0, 131115, 196608, 0, 196651, 196608, 0, 262187, 196608, 0, 524315, 196608, 0, 524316, 196608, 0, 524317, 196608, 0, 524318, 196608, 0, 524319, 196608, 0, 524331, 196608, 0, 524330, 196608, 0, 524329, 196608, 0, 524328, 196608, 0, 524327, 196608, 0, 524332, 196608, 0, 524333, 196608, 0, 524334, 196608, 0, 524335, 196608, 0, 524336, 196608, 0, 524337, 196608, 0, 524338, 196608, 0, 524339, 196608, 0, 524340, 196608, 0, 524314, 196608, 0, 524313, 196608, 0, 524312, 196608, 0, 458776, 196608, 0, 393240, 196608, 0, 327704, 196608, 0, 262168, 196608, 0, 262169, 196608, 0, 262170, 196608, 0, 589851, 196608, 0, 655387, 196608, 0, 720923, 196608, 0, 589867, 196608, 0, 655403, 196608, 0, 720939, 196608, 0, 786475, 196608, 0, 786459, 196608, 0, 720933, 196608, 0, 720932, 196608, 0, 720931, 196608, 0, 720930, 196608, 0, 720929, 196608, 0, 524342, 196608, 0, 524341, 196608, 0, 44, 196608, 0, 45, 196608, 0, 46, 196608, 0, 47, 196608, 0, 48, 196608, 0, 49, 196608, 0, 50, 196608, 0, 51, 196608, 0, 52, 196608, 0, 53, 196608, 0, 54, 196608, 0, 55, 196608, 0, 56, 196608, 0, 524343, 196608, 0, 458807, 196608, 0, 393271, 196608, 0, 327735, 196608, 0, 262199, 196608, 0, 262200, 196608, 0, 57, 196608, 0, 262201, 196608, 0, 58, 196608, 0, 262202, 196608, 0, 59, 196608, 0, 262203, 196608, 0, 262204, 196608, 0, 262205, 196608, 0, 262206, 196608, 0, 262207, 196608, 0, 196671, 196608, 0, 131135, 196608, 0, 65599, 196608, 0, 63, 196608, 0, 62, 196608, 0, 61, 196608, 0, 60, 196608, 0, 917543, 196608, 0, 917545, 196608, 0, 917546, 196608, 0, 917547, 196608, 0, 852011, 196608, 0, 917544, 196608, 0, 917535, 196608, 0, 917534, 196608, 0, 917533, 196608, 0, 917532, 196608, 0, 917531, 196608, 0, 851995, 196608, 0, 1114145, 196608, 0, 1114146, 196608, 0, 1114147, 196608, 0, 1114148, 196608, 0, 1114149, 196608, 0, 1310751, 196608, 0, 1310750, 196608, 0, 1310749, 196608, 0, 1310748, 196608, 0, 1310747, 196608, 0, 983067, 196608, 0, 983083, 196608, 0, 1048619, 196608, 0, 1114155, 196608, 0, 1179691, 196608, 0, 1245227, 196608, 0, 1310763, 196608, 0, 1376299, 196608, 0, 1441835, 196608, 0, 1507371, 196608, 0, 1310746, 196608, 0, 1310745, 196608, 0, 1114139, 196608, 0, 1114138, 196608, 0, 1114137, 196608, 0, 1048603, 196608, 0, 327723, 196608, 0, 1310759, 196608, 0, 1310760, 196608, 0, 1310761, 196608, 0, 1310762, 196608, 0, 1376291, 196608, 0, 1441826, 196608, 0, 1441828, 196608, 0, 1507363, 196608, 0, 1441827, 196608, 0, 1507361, 196608, 0, 1507362, 196608, 0, 1507364, 196608, 0, 1507365, 196608, 0, 1572896, 196608, 0, 1572897, 196608, 0, 1572898, 196608, 0, 1572899, 196608, 0, 1572900, 196608, 0, 1572901, 196608, 0, 1572902, 196608, 0, 1703966, 196608, 0, 1703967, 196608, 0, 1703968, 196608, 0, 1703969, 196608, 0, 1703970, 196608, 0, 1703971, 196608, 0, 1703972, 196608, 0, 1703973, 196608, 0, 1703974, 196608, 0, 1703975, 196608, 0, 1703979, 196608, 0, 1703978, 196608, 0, 1703977, 196608, 0, 1703976, 196608, 0, 1703965, 196608, 0, 1703964, 196608, 0, 1703963, 196608, 0, 1376283, 196608, 0, 1441819, 196608, 0, 1507355, 196608, 0, 1572891, 196608, 0, 1638427, 196608, 0, 1048601, 196608, 0, 983065, 196608, 0, 917529, 196608, 0, 1310744, 196608, 0, 1310743, 196608, 0, 1310742, 196608, 0, 1310741, 196608, 0, 1310740, 196608, 0, 1310739, 196608, 0, 1310738, 196608, 0, 1310737, 196608, 0, 1310736, 196608, 0, 983056, 196608, 0, 983055, 196608, 0, 983054, 196608, 0, 983053, 196608, 0, 983052, 196608, 0, 1048588, 196608, 0, 1114124, 196608, 0, 1179660, 196608, 0, 1245196, 196608, 0, 1310732, 196608, 0, 1310733, 196608, 0, 1310734, 196608, 0, 1310735, 196608, 0, 851993, 196608, 0, 786457, 196608, 0, 720921, 196608, 0, 720920, 196608, 0, 720919, 196608, 0, 720918, 196608, 0, 720917, 196608, 0, 720916, 196608, 0, 720915, 196608, 0, 720914, 196608, 0, 720913, 196608, 0, 720912, 196608, 0, 720911, 196608, 0, 786447, 196608, 0, 720910, 196608, 0, 720909, 196608, 0, 720908, 196608, 0, 983051, 196608, 0, 983050, 196608, 0, 983049, 196608, 0, 983048, 196608, 0, 983047, 196608, 0, 983046, 196608, 0, 720906, 196608, 0, 983040, 196608, 0, 917504, 196608, 0, 851968, 196608, 0, 786432, 196608, 0, 720896, 196608, 0, 720898, 196608, 0, 720900, 196608, 0, 720902, 196608, 0, 720904, 196608, 0, 983045, 196608, 0, 983044, 196608, 0, 983043, 196608, 0, 983042, 196608, 0, 917506, 196608, 0, 851970, 196608, 0, 786434, 196608, 0, 655372, 196608, 0, 589836, 196608, 0, 589835, 196608, 0, 589834, 196608, 0, 589833, 196608, 0, 589832, 196608, 0, 589831, 196608, 0, 589830, 196608, 0, 589829, 196608, 0, 589828, 196608, 0, 589827, 196608, 0, 589826, 196608, 0, 589825, 196608, 0, 589824, 196608, 0, 655360, 196608, 0, 1048576, 196608, 0, 1114112, 196608, 0, 1179648, 196608, 0, 1245184, 196608, 0, 1310720, 196608, 0, 1376256, 196608, 0, 1441792, 196608, 0, 1507328, 196608, 0, 1572864, 196608, 0, 1638400, 196608, 0, 1703936, 196608, 0, 1769472, 196608, 0, 1835008, 196608, 0, 1900544, 196608, 0, 1966080, 196608, 0, 2031616, 196608, 0, 2097152, 196608, 0, 2162688, 196608, 0, 2228224, 196608, 0, 2293760, 196608, 0, 2359296, 196608, 0, 2424832, 196608, 0, 2490368, 196608, 0, 2490370, 196608, 0, 2424834, 196608, 0, 2359298, 196608, 0, 2293762, 196608, 0, 2228226, 196608, 0, 2162690, 196608, 0, 2097154, 196608, 0, 2031618, 196608, 0, 1966082, 196608, 0, 1900546, 196608, 0, 1835010, 196608, 0, 1769474, 196608, 0, 1703938, 196608, 0, 1638402, 196608, 0, 1572866, 196608, 0, 1507330, 196608, 0, 1441794, 196608, 0, 1376258, 196608, 0, 1310722, 196608, 0, 1245186, 196608, 0, 1179650, 196608, 0, 1114114, 196608, 0, 1048578, 196608, 0, 1703980, 196608, 0, 1703981, 196608, 0, 1703982, 196608, 0, 1703983, 196608, 0, 1703984, 196608, 0, 1703985, 196608, 0, 1703986, 196608, 0, 1703987, 196608, 0, 1441836, 196608, 0, 1441837, 196608, 0, 1441838, 196608, 0, 1441839, 196608, 0, 1441840, 196608, 0, 1441841, 196608, 0, 1441842, 196608, 0, 1441843, 196608, 0, 1441844, 196608, 0, 1507380, 196608, 0, 1703988, 196608, 0, 1703989, 196608, 0, 1703990, 196608, 0, 1703991, 196608, 0, 1703992, 196608, 0, 1638456, 196608, 0, 1572920, 196608, 0, 1507384, 196608, 0, 1441848, 196608, 0, 1376312, 196608, 0, 1310776, 196608, 0, 1245240, 196608, 0, 1179704, 196608, 0, 1376308, 196608, 0, 1310772, 196608, 0, 1245236, 196608, 0, 1179700, 196608, 0, 1114164, 196608, 0, 1048628, 196608, 0, 983092, 196608, 0, 917556, 196608, 0, 917557, 196608, 0, 917558, 196608, 0, 917559, 196608, 0, 917560, 196608, 0, 917561, 196608, 0, 917562, 196608, 0, 917563, 196608, 0, 917564, 196608, 0, 1179705, 196608, 0, 1179706, 196608, 0, 1179707, 196608, 0, 1179708, 196608, 0, 1179709, 196608, 0, 1179710, 196608, 0, 1114174, 196608, 0, 983102, 196608, 0, 917566, 196608, 0, 917565, 196608, 0, 1179711, 196608, 0, 1179712, 196608, 0, 1179713, 196608, 0, 1179714, 196608, 0, 1179715, 196608, 0, 1179716, 196608, 0, 1179717, 196608, 0, 917567, 196608, 0, 917568, 196608, 0, 917569, 196608, 0, 917570, 196608, 0, 917571, 196608, 0, 917572, 196608, 0, 917573, 196608, 0, 917574, 196608, 0, 917575, 196608, 0, 917576, 196608, 0, 917577, 196608, 0, 983113, 196608, 0, 1048649, 196608, 0, 1114185, 196608, 0, 1179721, 196608, 0, 1245257, 196608, 0, 1310793, 196608, 0, 1376329, 196608, 0, 1441865, 196608, 0, 1703993, 196608, 0, 1703994, 196608, 0, 1703995, 196608, 0, 1703996, 196608, 0, 1703997, 196608, 0, 1703998, 196608, 0, 1703999, 196608, 0, 1704000, 196608, 0, 1704001, 196608, 0, 1704002, 196608, 0, 1704003, 196608, 0, 1704004, 196608, 0, 1704005, 196608, 0, 1704006, 196608, 0, 1704007, 196608, 0, 1704008, 196608, 0, 1704009, 196608, 0, 1704010, 196608, 0, 1704011, 196608, 0, 1704012, 196608, 0, 1441866, 196608, 0, 1441867, 196608, 0, 1441868, 196608, 0, 1441869, 196608, 0, 1441870, 196608, 0, 1441871, 196608, 0, 1441872, 196608, 0, 1441873, 196608, 0, 1441874, 196608, 0, 1441875, 196608, 0, 1507411, 196608, 0, 1572947, 196608, 0, 1638483, 196608, 0, 1704019, 196608, 0, 1704018, 196608, 0, 1704017, 196608, 0, 1704016, 196608, 0, 1704015, 196608, 0, 1704014, 196608, 0, 1704013, 196608, 0, 1376325, 196608, 0, 1376326, 196608, 0, 1376327, 196608, 0, 1376328, 196608, 0, 1441862, 196608, 0, 1441863, 196608, 0, 1441864, 196608, 0, 1572925, 196608, 0, 1572926, 196608, 0, 1572927, 196608, 0, 1638460, 196608, 0, 1638461, 196608, 0, 1638462, 196608, 0, 1638463, 196608, 0, 1638464, 196608, 0)

[node name="TileMapFinal" type="TileMap" parent="."]
tile_set = ExtResource("6_yjggl")
format = 2

[node name="ZShadows" type="Polygon2D" parent="."]
script = ExtResource("10_dvy0t")

[node name="Keycard" parent="." instance=ExtResource("12_uib0m")]
position = Vector2(468, 84)

[node name="CanvasLayer" type="CanvasLayer" parent="."]
visible = false
script = ExtResource("15_c5n2k")

[node name="ColorRect" type="ColorRect" parent="CanvasLayer"]
offset_right = 168.0
offset_bottom = 144.0
color = Color(0.15, 0.15, 0.15, 1)

[node name="ColorMap" type="CanvasLayer" parent="."]
visible = false

[node name="Map" type="ColorRect" parent="ColorMap"]
material = SubResource("ShaderMaterial_gkyvh")
offset_right = 160.0
offset_bottom = 144.0

[node name="StageExit -> Botany" type="Area2D" parent="."]
script = ExtResource("18_f0km6")

[node name="CollisionShape2D" type="CollisionShape2D" parent="StageExit -> Botany"]
position = Vector2(864, 93)
shape = SubResource("RectangleShape2D_c82jw")

[connection signal="body_entered" from="StageExit -> Botany" to="Player" method="_on_stage_exit__botany_body_entered"]
